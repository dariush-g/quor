@keep_asm
@trust_ret
def asm_function() :: int {
    @__asm__ {
        mov rax, 42
        mov rsp, rbp
        pop rbp
        ret
    }
}

def main() :: int {
    let result: int = asm_function();
    return result;
}
