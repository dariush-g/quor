

class string {
    size: int;
    data: char*;
}

def get_index(str: string*, index: int) :: char {
    str.data = str.data + index;

    // str.data = str.data - index;

    return *str.data;
}

def main() :: int {

    let ptr: void* = malloc(2);

    *ptr = 'h';

    ptr = ptr + 1;

    *ptr = 'i';

    ptr = ptr - 1;

    let str: string = string::(size: 2, data: ptr);

    let c: char = get_index(&str, 1);

    print_char(c);

    return 0;
}