

struct string {
    size: int;
    data: char*;
}

def get_index(str: string*, index: int) :: char {
    let ret: char* = str.data + index;
    return *ret;
}

def main() :: int {

    let ptr: void* = malloc(2);
    *ptr = 'h';
    ptr = ptr + 1;
    *ptr = 'i';
    ptr = ptr - 1;

    let str: string* = string::(size: 2, data: ptr);

    print_char(get_index(str, 1));

    return 0;
}